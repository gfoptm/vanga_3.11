<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trend Forecast Comparison</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen flex flex-col items-center py-10 space-y-8">

  <h1 class="text-3xl font-bold tracking-tight">üìä Trend Forecast Comparison</h1>

  <!-- –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
  <div class="filter-container flex flex-wrap justify-center gap-4 w-full max-w-6xl">
    <div>
      <label for="exchange-filter" class="mr-2">–ë–∏—Ä–∂–∞:</label>
      <select id="exchange-filter" class="bg-gray-800 text-gray-300 border border-gray-700 p-2 rounded">
        <option value="all" selected>–í—Å–µ</option>
        <option value="binance">Binance</option>
        <option value="bybit">Bybit</option>
        <option value="kraken">Kraken</option>
      </select>
    </div>
    <div>
      <label for="symbol-filter" class="mr-2">–ü–∞—Ä–∞:</label>
      <select id="symbol-filter" class="bg-gray-800 text-gray-300 border border-gray-700 p-2 rounded">
        <option value="all" selected>–í—Å–µ</option>
        <option value="BTCUSDT">BTC/USDT</option>
        <option value="ETHUSDT">ETH/USDT</option>
        <option value="XRPUSDT">XRP/USDT</option>
        <!-- –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ —Å–∏–º–≤–æ–ª—ã –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ -->
      </select>
    </div>
    <div>
      <label for="interval-filter" class="mr-2">–ò–Ω—Ç–µ—Ä–≤–∞–ª:</label>
      <select id="interval-filter" class="bg-gray-800 text-gray-300 border border-gray-700 p-2 rounded">
        <option value="all" selected>–í—Å–µ</option>
        <option value="1m">1m</option>
        <option value="5m">5m</option>
        <option value="15m">15m</option>
        <option value="1h">1h</option>
        <option value="1d">1d</option>
      </select>
    </div>
  </div>

  <!-- –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è -->
  <div class="w-full max-w-6xl overflow-x-auto rounded-xl border border-gray-800">
    <table class="w-full table-auto text-sm text-left">
      <thead class="bg-gray-800 text-gray-300 uppercase">
        <tr>
          <th class="px-3 py-2">Symbol</th>
          <th class="px-3 py-2">Exchange</th>
          <th class="px-3 py-2">Interval</th>
          <th class="px-3 py-2">–í—Ä–µ–º—è —Å–≤–µ—á–∏</th>
          <th class="px-3 py-2">–ü—Ä–æ–≥–Ω–æ–∑ —Ç—Ä–µ–Ω–¥–∞</th>
          <th class="px-3 py-2">–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (–ø—Ä–æ–≥–Ω–æ–∑)</th>
          <th class="px-3 py-2">–û—Ç–∫—Ä—ã—Ç–∏–µ —Å–≤–µ—á–∏</th>
          <th class="px-3 py-2">–ó–∞–∫—Ä—ã—Ç–∏–µ —Å–≤–µ—á–∏</th>
          <th class="px-3 py-2">–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–Ω–¥</th>
          <th class="px-3 py-2">–°—Ç–∞—Ç—É—Å</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-800">
        {% for cmp in comparisons %}
          <tr class="hover:bg-white/5
                    {% if cmp.status == 'accurate' %}
                        bg-green-800/20
                    {% elif cmp.status == 'inaccurate' %}
                        bg-red-800/20
                    {% elif cmp.status == '–æ–∂–∏–¥–∞–µ—Ç—Å—è' %}
                        bg-yellow-800/10
                    {% endif %}"
              data-exchange="{{ cmp.exchange }}" data-symbol="{{ cmp.symbol }}" data-interval="{{ cmp.interval }}">
            <td class="px-3 py-2">{{ cmp.symbol }}</td>
            <td class="px-3 py-2">{{ cmp.exchange }}</td>
            <td class="px-3 py-2">{{ cmp.interval }}</td>
            <td class="px-3 py-2">{{ cmp.candle_time }}</td>
            <td class="px-3 py-2">{{ cmp.predicted_trend }}</td>
            <td class="px-3 py-2">{{ cmp.predicted_confidence }}</td>
            <td class="px-3 py-2">{{ cmp.actual_open }}</td>
            <td class="px-3 py-2">{{ cmp.actual_close }}</td>
            <td class="px-3 py-2">{{ cmp.actual_trend }}</td>
            <td class="px-3 py-2 capitalize">{{ cmp.status }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- –°–∫—Ä–∏–ø—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ -->
  <script>
    function filterComparisons() {
      const exchangeSelect = document.getElementById("exchange-filter");
      const symbolSelect = document.getElementById("symbol-filter");
      const intervalSelect = document.getElementById("interval-filter");

      const selectedExchange = exchangeSelect.value;
      const selectedSymbol = symbolSelect.value;
      const selectedInterval = intervalSelect.value;

      const rows = document.querySelectorAll("tbody tr");

      rows.forEach(row => {
        const rowExchange = row.getAttribute("data-exchange");
        const rowSymbol = row.getAttribute("data-symbol");
        const rowInterval = row.getAttribute("data-interval");

        const matchExchange = selectedExchange === "all" || rowExchange.toLowerCase() === selectedExchange;
        const matchSymbol = selectedSymbol === "all" || rowSymbol === selectedSymbol;
        const matchInterval = selectedInterval === "all" || rowInterval === selectedInterval;

        row.style.display = (matchExchange && matchSymbol && matchInterval) ? "table-row" : "none";
      });
    }

    document.getElementById("exchange-filter").addEventListener("change", filterComparisons);
    document.getElementById("symbol-filter").addEventListener("change", filterComparisons);
    document.getElementById("interval-filter").addEventListener("change", filterComparisons);
    window.addEventListener("load", filterComparisons);
  </script>

</body>
</html>
